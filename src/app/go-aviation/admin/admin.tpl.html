<go-nav></go-nav>
<div class="container-fluid">
    <h3  class="page-header">User Admin</h3>
    <form>
        <div class="row">
            <div class="col-sm-3">
                <h4>Add User</h4>
                <p class="input-group">
                    <input class="form-control" placeholder="First Name" ng-model="new_user.first_name">
                    <input class="form-control" placeholder="Last Name" ng-model="new_user.last_name">
                    <input class="form-control" placeholder="Username" ng-model="new_user.username">
                    <input type="email" class="form-control" placeholder="Email address" ng-model="new_user.email">
                    <input class="form-control" placeholder="Password" ng-model="new_user.password">
                </p>
                <p><button class="btn btn-primary" ng-click="add_user()">Add User</button></p>
                <div go-aviation-alert error="add_user_error" counter="0"></div>
            </div>
            <div class="col-sm-9">

                <div class="row">
                    <div class="col-sm-6">
                        <h4>Users</h4>
                    </div>
                    <div class="col-sm-6 text-right">
                        <p class="input-group">
                            <span class="input-group-addon"><span class="fa fa-filter"></span></span>
                            <input type="text" class="form-control" placeholder="User name or email" ng-model="users_filter">
                        </p>
                    </div>
                </div>

                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>&nbsp;</th>
                            <th>&nbsp;</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat='user in users | filter:users_filter'>
                            <td>{{user.full_name}} <small class="text-uppercase text-muted" ng-show="user.is_admin">&nbsp; Admin</small></td>
                            <td>{{user.email}}</td>
                            <td>
                                <a ng-click="promote_user(user)" class="action">
                                    <span class="fa fa-1" ng-class="user.is_admin ? 'fa-arrow-down' : 'fa-arrow-up'"></span>
                                     {{user.is_admin ? 'Demote' : 'Promote'}}
                                </a>
                            </td>
                            <td><a class="text-danger action" ng-click="delete_user(user)"><span class="fa fa-trash-o"></span> Delete</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </form>
</div>
